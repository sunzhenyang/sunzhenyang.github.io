import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,a as t,f as e}from"./app-BybQgHW9.js";const p={},o=e(`<h2 id="事件处理阶段" tabindex="-1"><a class="header-anchor" href="#事件处理阶段"><span>事件处理阶段</span></a></h2><blockquote><p><code>event.eventPhase</code> 可以获取事件的阶段数（capturing=1，target=2，bubbling=3）</p></blockquote><ol><li>捕获阶段：通过祖先链（从 Window 开始）向下到达元素</li><li>目标阶段：事件到达目标元素</li><li>冒泡阶段：事件从元素上开始冒泡，在途中调用处理程序</li></ol><h2 id="冒泡-bubbling" tabindex="-1"><a class="header-anchor" href="#冒泡-bubbling"><span>冒泡（bubbling）</span></a></h2><blockquote><p>当一个事件发生在一个元素上，会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，然后一直向上到其他祖先上的处理程序</p></blockquote><ul><li>几乎所有的事件都会冒泡 <ul><li><code>focus</code> 不会冒泡</li></ul></li></ul><h3 id="event-target" tabindex="-1"><a class="header-anchor" href="#event-target"><span>event.target</span></a></h3><blockquote><p>引发事件的那个嵌套层级最深的元素（事件实际发生的位置）被称为目标元素,可以通过 <code>event.target</code> 访问</p></blockquote><ul><li>是引发事件的目标元素，在冒泡过程中不会发生变化</li><li><code>this</code>（同 <code>event.currentTarget</code>），表示当前元素</li></ul><h2 id="停止冒泡" tabindex="-1"><a class="header-anchor" href="#停止冒泡"><span>停止冒泡</span></a></h2><blockquote><p>冒泡事件从目标元素开始向上冒泡。通常，它会一直上升到 <code>&lt;html&gt;</code>，然后再到 <code>document</code> 对象，有些事件甚至会到达 <code>window</code>，它们会调用路径上所有的处理程序</p></blockquote><h3 id="event-stoppropagation" tabindex="-1"><a class="header-anchor" href="#event-stoppropagation"><span>event.stopPropagation()</span></a></h3><blockquote><p>用于停止冒泡，如果一个元素在一个事件上有多个处理程序，即使其中一个停止冒泡，其他处理程序仍会执行</p></blockquote><h3 id="event-stopimmediatepropagation" tabindex="-1"><a class="header-anchor" href="#event-stopimmediatepropagation"><span>event.stopImmediatePropagation()</span></a></h3><blockquote><p>用于停止冒泡，并阻止当前元素上的处理程序运行</p></blockquote><h2 id="捕获-capturing" tabindex="-1"><a class="header-anchor" href="#捕获-capturing"><span>捕获（capturing）</span></a></h2><div class="language-html line-numbers-mode" data-ext="html" data-title="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">div,
      span,
      i</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>span<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>冒泡测试<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> elem <span class="token keyword">of</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Capture：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>elem<span class="token punctuation">.</span>tagName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>event<span class="token punctuation">.</span>eventPhase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">capture</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Bubbling：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>elem<span class="token punctuation">.</span>tagName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>event<span class="token punctuation">.</span>eventPhase<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,17);function c(l,i){return a(),s("div",null,[t(" more "),o])}const k=n(p,[["render",c],["__file","01.冒泡和捕获.html.vue"]]),d=JSON.parse(`{"path":"/notes/javascript/web-api/event/01.%E5%86%92%E6%B3%A1%E5%92%8C%E6%8D%95%E8%8E%B7.html","title":"冒泡和捕获","lang":"zh-CN","frontmatter":{"title":"冒泡和捕获","icon":"article","article":false,"sticky":20,"breadcrumb":false,"description":"事件处理阶段 event.eventPhase 可以获取事件的阶段数（capturing=1，target=2，bubbling=3） 捕获阶段：通过祖先链（从 Window 开始）向下到达元素 目标阶段：事件到达目标元素 冒泡阶段：事件从元素上开始冒泡，在途中调用处理程序 冒泡（bubbling） 当一个事件发生在一个元素上，会首先运行在该元素上的处...","head":[["meta",{"property":"og:url","content":"https://codemake.fun/notes/javascript/web-api/event/01.%E5%86%92%E6%B3%A1%E5%92%8C%E6%8D%95%E8%8E%B7.html"}],["meta",{"property":"og:site_name","content":"Yang's Blog"}],["meta",{"property":"og:title","content":"冒泡和捕获"}],["meta",{"property":"og:description","content":"事件处理阶段 event.eventPhase 可以获取事件的阶段数（capturing=1，target=2，bubbling=3） 捕获阶段：通过祖先链（从 Window 开始）向下到达元素 目标阶段：事件到达目标元素 冒泡阶段：事件从元素上开始冒泡，在途中调用处理程序 冒泡（bubbling） 当一个事件发生在一个元素上，会首先运行在该元素上的处..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-01-11T09:12:15.000Z"}],["meta",{"property":"article:author","content":"Yang"}],["meta",{"property":"article:modified_time","content":"2023-01-11T09:12:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"冒泡和捕获\\",\\"description\\":\\"事件处理阶段 event.eventPhase 可以获取事件的阶段数（capturing=1，target=2，bubbling=3） 捕获阶段：通过祖先链（从 Window 开始）向下到达元素 目标阶段：事件到达目标元素 冒泡阶段：事件从元素上开始冒泡，在途中调用处理程序 冒泡（bubbling） 当一个事件发生在一个元素上，会首先运行在该元素上的处...\\"}"]]},"headers":[{"level":2,"title":"事件处理阶段","slug":"事件处理阶段","link":"#事件处理阶段","children":[]},{"level":2,"title":"冒泡（bubbling）","slug":"冒泡-bubbling","link":"#冒泡-bubbling","children":[{"level":3,"title":"event.target","slug":"event-target","link":"#event-target","children":[]}]},{"level":2,"title":"停止冒泡","slug":"停止冒泡","link":"#停止冒泡","children":[{"level":3,"title":"event.stopPropagation()","slug":"event-stoppropagation","link":"#event-stoppropagation","children":[]},{"level":3,"title":"event.stopImmediatePropagation()","slug":"event-stopimmediatepropagation","link":"#event-stopimmediatepropagation","children":[]}]},{"level":2,"title":"捕获（capturing）","slug":"捕获-capturing","link":"#捕获-capturing","children":[]}],"git":{"createdTime":1673428335000,"updatedTime":1673428335000,"contributors":[{"name":"sunzhenyang","email":"874530670@qq.com","commits":1}]},"readingTime":{"minutes":1.47,"words":440},"filePathRelative":"notes/javascript/web-api/event/01.冒泡和捕获.md","localizedDate":"2023年1月11日","excerpt":"","autoDesc":true}`);export{k as comp,d as data};
