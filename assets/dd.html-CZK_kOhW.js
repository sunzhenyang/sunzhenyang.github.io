import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as d,c as o,b as a,d as s,e as l,f as i}from"./app-BybQgHW9.js";const p={},c=i(`<p><code>dd</code>命令用于复制磁盘或文件系统。</p><h2 id="复制磁盘" tabindex="-1"><a class="header-anchor" href="#复制磁盘"><span>复制磁盘</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/sda <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面命令表示将<code>/dev/sda</code>磁盘复制到<code>/dev/sdb</code>设备。参数<code>if</code>表示来源地，<code>of</code>表示目的地。</p><p>除了复制，<code>dd</code>还允许将磁盘做成一个镜像文件。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/sda <span class="token assign-left variable">of</span><span class="token operator">=</span>/home/username/sdadisk.img
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>dd</code>还可以复制单个分区。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/sda2 <span class="token assign-left variable">of</span><span class="token operator">=</span>/home/username/partition2.img <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">4096</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>上面命令中，参数<code>bs</code>表示单次拷贝的字节数（bytes）。</p><p>要将镜像文件复原，也很简单。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>sdadisk.img <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="清除数据" tabindex="-1"><a class="header-anchor" href="#清除数据"><span>清除数据</span></a></h2><p><code>dd</code>也可以用于清除磁盘数据。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 磁盘数据写满 0</span>
$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sda1

<span class="token comment"># 磁盘数据写满随机字符</span>
$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/urandom <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sda1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="监控进展" tabindex="-1"><a class="header-anchor" href="#监控进展"><span>监控进展</span></a></h2><p>磁盘的复制通常需要很久，为了监控进展，可以使用 Pipe Viewer 工具软件。如果没有安装这个软件，可以使用下面的命令安装。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">pv</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后，来源地和目的地之间插入广告，就可以看到进展了。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/urandom <span class="token operator">|</span> <span class="token function">pv</span> <span class="token operator">|</span> <span class="token function">dd</span> <span class="token assign-left variable">of</span><span class="token operator">=</span>/dev/sda1
<span class="token number">4</span>,14MB <span class="token number">0</span>:00:05 <span class="token punctuation">[</span> 98kB/s<span class="token punctuation">]</span> <span class="token punctuation">[</span>      <span class="token operator">&lt;=</span><span class="token operator">&gt;</span>                  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接"><span>参考链接</span></a></h2>`,20),r={href:"https://opensource.com/article/18/7/how-use-dd-linux",target:"_blank",rel:"noopener noreferrer"};function u(v,h){const e=t("ExternalLinkIcon");return d(),o("div",null,[c,a("ul",null,[a("li",null,[s("David Clinton, "),a("a",r,[s("How to use dd in Linux without destroying your disk"),l(e)])])])])}const g=n(p,[["render",u],["__file","dd.html.vue"]]),k=JSON.parse(`{"path":"/technology/bash/archives/commands/dd.html","title":"dd","lang":"zh-CN","frontmatter":{"title":"dd","icon":"article","category":"bash","article":false,"tag":["bash"],"copyright":"Copyright by wangdoc","description":"dd命令用于复制磁盘或文件系统。 复制磁盘 上面命令表示将/dev/sda磁盘复制到/dev/sdb设备。参数if表示来源地，of表示目的地。 除了复制，dd还允许将磁盘做成一个镜像文件。 dd还可以复制单个分区。 上面命令中，参数bs表示单次拷贝的字节数（bytes）。 要将镜像文件复原，也很简单。 清除数据 dd也可以用于清除磁盘数据。 监控进展 ...","head":[["meta",{"property":"og:url","content":"https://codemake.fun/technology/bash/archives/commands/dd.html"}],["meta",{"property":"og:site_name","content":"Yang's Blog"}],["meta",{"property":"og:title","content":"dd"}],["meta",{"property":"og:description","content":"dd命令用于复制磁盘或文件系统。 复制磁盘 上面命令表示将/dev/sda磁盘复制到/dev/sdb设备。参数if表示来源地，of表示目的地。 除了复制，dd还允许将磁盘做成一个镜像文件。 dd还可以复制单个分区。 上面命令中，参数bs表示单次拷贝的字节数（bytes）。 要将镜像文件复原，也很简单。 清除数据 dd也可以用于清除磁盘数据。 监控进展 ..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-01-11T09:12:15.000Z"}],["meta",{"property":"article:author","content":"Yang"}],["meta",{"property":"article:tag","content":"bash"}],["meta",{"property":"article:modified_time","content":"2023-01-11T09:12:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"dd\\",\\"description\\":\\"dd命令用于复制磁盘或文件系统。 复制磁盘 上面命令表示将/dev/sda磁盘复制到/dev/sdb设备。参数if表示来源地，of表示目的地。 除了复制，dd还允许将磁盘做成一个镜像文件。 dd还可以复制单个分区。 上面命令中，参数bs表示单次拷贝的字节数（bytes）。 要将镜像文件复原，也很简单。 清除数据 dd也可以用于清除磁盘数据。 监控进展 ...\\"}"]]},"headers":[{"level":2,"title":"复制磁盘","slug":"复制磁盘","link":"#复制磁盘","children":[]},{"level":2,"title":"清除数据","slug":"清除数据","link":"#清除数据","children":[]},{"level":2,"title":"监控进展","slug":"监控进展","link":"#监控进展","children":[]},{"level":2,"title":"参考链接","slug":"参考链接","link":"#参考链接","children":[]}],"git":{"createdTime":1673428335000,"updatedTime":1673428335000,"contributors":[{"name":"sunzhenyang","email":"874530670@qq.com","commits":1}]},"readingTime":{"minutes":1.02,"words":307},"filePathRelative":"technology/bash/archives/commands/dd.md","localizedDate":"2023年1月11日","excerpt":"<p><code>dd</code>命令用于复制磁盘或文件系统。</p>\\n<h2>复制磁盘</h2>\\n<div class=\\"language-bash\\" data-ext=\\"sh\\" data-title=\\"sh\\"><pre class=\\"language-bash\\"><code>$ <span class=\\"token function\\">dd</span> <span class=\\"token assign-left variable\\">if</span><span class=\\"token operator\\">=</span>/dev/sda <span class=\\"token assign-left variable\\">of</span><span class=\\"token operator\\">=</span>/dev/sdb\\n</code></pre></div>","autoDesc":true}`);export{g as comp,k as data};
