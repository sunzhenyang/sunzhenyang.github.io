import{_ as l,P as o,Q as p,Z as i,$ as n,a0 as s,a1 as t,a2 as e,C as c}from"./framework-f3782457.js";const d={},u=e(`<blockquote><p>Java Server Pages：Java 服务器页面</p></blockquote><ul><li>是 J2EE 的功能模块，由 Web 服务器执行</li><li>JSP 的作用就是降低动态网页开发难度</li><li>使用简单，易于上手</li><li>将 Java 代码与 HTML 分离，降低开发难度</li><li>JSP 的本质就是 Servlet</li></ul><h2 id="运行要求" tabindex="-1"><a class="header-anchor" href="#运行要求" aria-hidden="true">#</a> 运行要求</h2><ul><li>可正常运行的 Tomcat</li><li>所有的 JSP 页面扩展名必须是 <code>.jsp</code></li><li>JSP 页面应放在 Web 应用程序目录下</li></ul><h2 id="执行过程" tabindex="-1"><a class="header-anchor" href="#执行过程" aria-hidden="true">#</a> 执行过程</h2><ul><li>浏览器访问 JSP（将请求发送给 Tomcat）</li><li>Tomcat 找到对应 JSP 文件，并将其转译为 Servlet 源码</li><li>Java 将 Servlet 源码编译为 Servlet 字节码（.class）</li><li>字节码文件执行，将结果返回的 HTML 返回给浏览器</li></ul><h2 id="基本语法" tabindex="-1"><a class="header-anchor" href="#基本语法" aria-hidden="true">#</a> 基本语法</h2><h3 id="注释" tabindex="-1"><a class="header-anchor" href="#注释" aria-hidden="true">#</a> 注释</h3><ul><li><code>&lt;%-- 注释 --%&gt;</code>：JSP 注释，被注释的语句不做任何处理</li><li><code>//、/*..*/</code>：Java 代码注释 ，被注释的代码不执行</li><li><code>&lt;!-- 注释 --&gt;</code>：HTML 注释，被注释的语句不会被浏览器解析</li></ul><h3 id="代码块" tabindex="-1"><a class="header-anchor" href="#代码块" aria-hidden="true">#</a> 代码块</h3><blockquote><p>用于在 JSP 中嵌入 Java 代码</p></blockquote><ul><li>语法：<code>&lt;% Java代码 %&gt;</code></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;% System.out.print(&quot;hello world&quot;); %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="声明构造块" tabindex="-1"><a class="header-anchor" href="#声明构造块" aria-hidden="true">#</a> 声明构造块</h3><blockquote><p>用于声明变量或方法</p></blockquote><ul><li>语法：<code>&lt;%! 声明语句 %&gt;</code></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%! public int add(int a, int b){ return a+b; } %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="指令" tabindex="-1"><a class="header-anchor" href="#指令" aria-hidden="true">#</a> 指令 &lt;%@ ... %&gt;</h3><h4 id="page" tabindex="-1"><a class="header-anchor" href="#page" aria-hidden="true">#</a> page</h4><blockquote><p>用于提供在 JSP 执行过程中的辅助信息，如定义页面特定的属性（字符编码、响应内容类型一级页面是否要有隐式的会话对象）</p></blockquote><ul><li>语法：<code>&lt;%@ page ... %&gt;</code></li></ul><table><thead><tr><th><strong>属性</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td><strong>import</strong></td><td><strong>导入要使用的 Java 类</strong></td></tr><tr><td><strong>contentType</strong></td><td><strong>指定当前 JSP 页面的 MIME 类型和字符编码</strong></td></tr><tr><td><strong>errorPage</strong></td><td><strong>指定当 JSP 页面发生异常时需要转向的错误处理页面</strong></td></tr><tr><td><strong>isErrorPage</strong></td><td><strong>指定当前页面是否可以作为另一个 JSP 页面的错误处理页面</strong></td></tr><tr><td><strong>isELIgnored</strong></td><td><strong>指定是否忽略 EL 表达式</strong></td></tr><tr><td><strong>isThreadSafe</strong></td><td><strong>指定对 JSP 页面的访问是否为线程安全</strong></td></tr><tr><td>extends</td><td>指定 servlet 从哪一个类继承</td></tr><tr><td>info</td><td>定义 JSP 页面的描述信息</td></tr><tr><td>buffer</td><td>指定 out 对象使用缓冲区的大小</td></tr><tr><td>language</td><td>定义 JSP 页面所用的脚本语言，默认是 Java</td></tr><tr><td>session</td><td>指定 JSP 页面是否使用 session</td></tr><tr><td>autoFlush</td><td>控制 out 对象的 缓存区</td></tr><tr><td>isScriptingEnabled</td><td>确定脚本元素能否被使用</td></tr></tbody></table><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- 导入包 --&gt;
&lt;%@ page import=&quot;java.util.*, java.io.*&quot;%&gt;

&lt;!-- 设置页面属性 --&gt;
&lt;%@ page
  language=&quot;java&quot;
  contentType=&quot;text/html; charset=UTF-8&quot;
  pageEncoding=&quot;UTF-8&quot;
  session=&quot;false&quot;
%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="include" tabindex="-1"><a class="header-anchor" href="#include" aria-hidden="true">#</a> include</h4><blockquote><p>将其他 JSP 页面与当前 JSP 页面合并</p></blockquote><ul><li>语法：<code>&lt;%@ include file=&quot;header.jsp&quot;%&gt;</code></li></ul><h4 id="taglib" tabindex="-1"><a class="header-anchor" href="#taglib" aria-hidden="true">#</a> taglib</h4><blockquote><p>定义 JSP 可以使用的标签库</p></blockquote><h5 id="定义" tabindex="-1"><a class="header-anchor" href="#定义" aria-hidden="true">#</a> 定义</h5><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- MyFunction.tld 放在 WEB-INF 文件夹下 --&gt;</span>
<span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>taglib</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java.sun.com/xml/ns/j2ee<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tlib-version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tlib-version</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uri</span><span class="token punctuation">&gt;</span></span>DiceFunctions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>uri</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>rollIt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function-class</span><span class="token punctuation">&gt;</span></span>com.example.model.DiceRooler<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>function-class</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>function-signature</span><span class="token punctuation">&gt;</span></span>int roolDice()<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>function-signature</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>function</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>taglib</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// DiceRooler.java</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DiceRooler</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">roolDice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h5><ul><li><code>&lt;%@ taglib &lt;%@ taglib uri=&quot;DiceFunctions&quot; prefix=&quot;mine&quot; tagdir=&quot;/WEB-INF/tags/cool&quot;&gt;</code><ul><li><code>uri</code>：和 <code>.tld</code> 文件中的 <code>&lt;uri&gt;</code> 标签相对应</li><li><code>prefix</code>：别名、前缀</li><li><code>tagdir</code>：<code>.tld</code> 文件存放路径</li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- test.jsp --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot; session=&quot;false&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;%@ taglib prefix=&quot;mine&quot; uri=&quot;DiceFunctions&quot;%&gt;
	&lt;h1&gt;\${mine:rollIt()}&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="表达式" tabindex="-1"><a class="header-anchor" href="#表达式" aria-hidden="true">#</a> 表达式 &lt;%= ... %&gt;</h3><blockquote><p>用于在 JSP 页面中显示 Java 代码执行的结果，<code>out.print()</code> 的简写形式（容器拿到 <code>&lt;%=</code> 和 <code>%&gt;</code> 之间的内容，把它作为参数传递给打印语句，打印到隐式响应 <code>PrintWrite out</code>）</p></blockquote><ul><li>语法：<code>&lt;%= Java代码 %&gt;</code></li><li><code>%</code> 和 <code>=</code> 之间不能有空格</li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%= &quot;&lt;p&gt;&quot; + name + &quot;&lt;/p&gt;&quot; %&gt;
&lt;!-- 相当于 --&gt;
out.print(&quot;&lt;p&gt;&quot; + name + &quot;&lt;/p&gt;&quot;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsp-声明" tabindex="-1"><a class="header-anchor" href="#jsp-声明" aria-hidden="true">#</a> JSP 声明 &lt;%! ... %&gt;</h3><blockquote><p> 用于声明所生成的 Servlet 类成员，变量和方法都可以生命，换句话说，标记之间的所有内容都会增加到类中，而且至于服务方法之外。这意味着完全<strong>可以声明静态变量和方法</strong></p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;h1&gt;
  &lt;%!
  	public static int count = 0;
  	public static int countAddNumber(int num) {
      return count + num;
    }
  %&gt;
  &lt;%=++count%&gt;
  &lt;%=countAddNumber(10)%&gt;
&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="动作" tabindex="-1"><a class="header-anchor" href="#动作" aria-hidden="true">#</a> 动作</h2><ul><li><code>&lt;jsp:include page=&quot;test.jsp&quot;&gt;</code></li><li><code>&lt;c:set var=&quot;rate&quot; value=&quot;32&quot;&gt;</code></li></ul><h3 id="jsp-usebean" tabindex="-1"><a class="header-anchor" href="#jsp-usebean" aria-hidden="true">#</a> jsp:useBean</h3><blockquote><p>声明和初始化一个 bean 属性，如果找不到一个名为 id 值的属性对象，就会创建一个</p></blockquote><ul><li>语法 <ul><li><code>&lt;jsp:useBean id=&quot;person&quot; class=&quot;com.example.model.Person&quot; scope=&quot;request&quot; /&gt;</code><ul><li>jsp:useBean：JSP 标准动作标识</li><li>id：声明 bean 对象的标识符，对应 servlet 中的 <code>request.setAttribute(&quot;person&quot;, person)</code></li><li>type：可以是 class 类型、抽象类型、或者是一个接口，</li><li>class：声明 bean 对象的类类型（完全限制名），必须是 type 的一个子类或具体实现</li><li>scope：标识这个 bean 对象的属性作用域</li></ul></li><li><code>&lt;jsp:getProperty name=&quot;person&quot; property=&quot;name&quot; /&gt;</code><ul><li>jsp:getProperty：JSP 标准动作标识</li><li>name：标识具体的 bean 对象，与 <code>&lt;jsp:useBean&gt;</code> 标记的 <code>id</code> 值匹配</li><li>property：表示属性中的性质名（也就是与 bean 类型中获取方法和设置方法对应的性质）</li></ul></li><li><code>&lt;jsp:setProperty name=&quot;person&quot; property=&quot;name&quot; value=&quot;sunzhenyang&quot; /&gt;</code><ul><li><code>param</code>：请求参数名（input name）</li></ul></li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;jsp:useBean id=&quot;person&quot; class=&quot;com.example.model.Person&quot; scope=&quot;request&quot;&gt;
  &lt;!-- jsp:useBean体中的代码会有条件的运行，只有找不到 bean 而且创建一个新 bean 时才会运行 --&gt;
	&lt;jsp:setProperty name=&quot;person&quot; property=&quot;name&quot; value=&quot;sunzhenyang&quot; /&gt;
&lt;/jsp:useBean&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsp-include" tabindex="-1"><a class="header-anchor" href="#jsp-include" aria-hidden="true">#</a> jsp:include</h3><blockquote><p>复制文件内容到另一个文件中，内部实现为动态复制</p><p>而 <code>include</code> 指令是只对第一次请求有效，但是很多容器也实现了动态复制</p></blockquote><ul><li><code>&lt;jsp:include page=&quot;Footer.jsp&quot; /&gt;</code></li></ul><h3 id="jsp-param" tabindex="-1"><a class="header-anchor" href="#jsp-param" aria-hidden="true">#</a> jsp:param</h3><blockquote><p>设置被包含文件的参数</p></blockquote><ul><li>可以用在 <code>jsp:include</code> 和 <code>jsp:forward</code> 标签中</li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- Header.jsp --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;h1&gt;This is 头部&lt;/h1&gt;
&lt;h1&gt;\${param.tip}，\${param.name}!&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- test.jsp --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;jsp:include page=&quot;Header.jsp&quot;&gt;
		&lt;jsp:param value=&quot;Hello&quot; name=&quot;tip&quot; /&gt;
		&lt;jsp:param value=&quot;sunzhenyang&quot; name=&quot;name&quot; /&gt;
	&lt;/jsp:include&gt;
	&lt;h2&gt;This is Content&lt;/h2&gt;
	&lt;jsp:include page=&quot;Footer.jsp&quot; /&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jsp-forward" tabindex="-1"><a class="header-anchor" href="#jsp-forward" aria-hidden="true">#</a> jsp:forward</h3><blockquote><p>转发到其他的 JSP 页面</p></blockquote><ul><li><code>&lt;jsp:forward page=&quot;login.html&quot; /&gt;</code></li><li>转发时会先清空响应缓冲区，请求转发到的目标资源会先清空输出，所以转发前写至响应的所有内容都会清掉</li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- test.jsp --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;Welcome to our page.&lt;/h1&gt;
	&lt;%
		String username = request.getParameter(&quot;username&quot;);
		if (username == null || username.equals(&quot;&quot;)) {
	%&gt;
	&lt;jsp:forward page=&quot;login.jsp&quot; /&gt;
	&lt;%
		}
	%&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- login.jsp --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;form action=&quot;test.jsp&quot;&gt;
		&lt;input name=&quot;username&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;提交&quot; /&gt;
	&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="内置对象" tabindex="-1"><a class="header-anchor" href="#内置对象" aria-hidden="true">#</a> 内置对象</h2><blockquote><p>可直接在 &lt;% %&gt; 中使用，<strong>页面级作用域</strong></p></blockquote><table><thead><tr><th>内置(隐式)对象</th><th>API</th><th>描述</th></tr></thead><tbody><tr><td><code>request</code></td><td><code>HttpServletRequest</code></td><td>请求对象 - <code>HttpServletRequest</code></td></tr><tr><td><code>response</code></td><td><code>HttpServletResponse</code></td><td>响应对象 - <code>HttpServletResponse</code></td></tr><tr><td><code>session</code></td><td><code>HttpSession</code></td><td>用户会话 - <code>HttpSession</code></td></tr><tr><td><code>application</code></td><td><code>ServletContext</code></td><td>应用全局对象 - <code>ServletContext</code></td></tr><tr><td><code>out</code></td><td><code>JspWriter</code></td><td>输入对象 - <code>PrintWrite</code></td></tr><tr><td><code>page</code></td><td><code>Object</code></td><td>当前页面对象 - <code>this</code></td></tr><tr><td><code>pageContext</code></td><td><code>PageContext</code></td><td>页面上下文对象 - <code>PageContext</code></td></tr><tr><td><code>config</code></td><td><code>ServletConfig</code></td><td>应用配置对象 - <code>ServletConfig</code></td></tr><tr><td><code>exception</code></td><td><code>Throwable</code></td><td>应用异常对象 - <code>Throwable</code></td></tr></tbody></table><ul><li><code>PageContext</code> 封装了其他隐式对象，所以如果像某些辅助对象提供了一个 <code>PageContext</code> 引用，这些辅助对象就可以用这个 <code>PageContext</code> 引用得到其他隐式对象的引用以及所有作用域的属性</li><li><code>JspWriter</code> 不在 <code>PrintWrite</code> 的类层次中，所以不能用来取代 <code>PrintWrite</code>，不过它的大多数打印方法都与 <code>PrintWrite</code> 相同，只不过增加了一些缓冲功能</li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- exception --&gt;
&lt;%
	String msg = exception.getMessage();
	out.print(&quot;&lt;br&gt;&quot; + exception.getClass().getSimpleName() + &quot;：&quot; + msg);
%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="pagecontext" tabindex="-1"><a class="header-anchor" href="#pagecontext" aria-hidden="true">#</a> PageContext</h2><blockquote><p>可以使用 <code>PageContext</code> 引用来得到任意作用域的属性，包括从页面作用域得到绑定到 <code>PageContext</code> 的属性</p><p>访问其他作用域的方法要取一个 <code>int</code> 参数，这个参数用来指示是哪一个作用域，尽管属性存取方法在 <code>JspContext</code> 中，但作用域常量在 <code>PageContext</code> 中</p></blockquote><h3 id="jspcontext" tabindex="-1"><a class="header-anchor" href="#jspcontext" aria-hidden="true">#</a> JspContext</h3><ul><li><code>getAttribute(String name)</code></li><li><code>getAttribute(String name, int scope)</code></li><li><code>getAttributeNamesInScope(int scope)</code></li><li><code>findAttribute(String name)</code></li><li>更多方法：包括以上获取方法类似的设置和删除方法，可以设置和删除任意作用域中的属性</li></ul><h3 id="pagecontext-1" tabindex="-1"><a class="header-anchor" href="#pagecontext-1" aria-hidden="true">#</a> PageContext</h3><blockquote><p>继承自 <code>JspContext</code></p></blockquote><ul><li>字段 <ul><li><code>APPLICATION_SCOPE</code>：int</li><li><code>PAGE_SCOPE</code>：int</li><li><code>SESSION_SCOPE</code>：int</li><li><code>REQUEST_SCOPE</code>：int</li><li>...</li></ul></li><li>方法 <ul><li><code>getRequest()</code></li><li><code>getServletConfig()</code></li><li><code>getServletContext()</code></li><li><code>getSession()</code></li><li>...</li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%
	// 设置页面作用域属性
  pageContext.setAttribute(&quot;name1&quot;, &quot;value1&quot;);
	// 设置应用作用域属性
  pageContext.setAttribute(&quot;name2&quot;, &quot;value2&quot;, PageContext.APPLICATION_SCOPE);
	// 设置会话作用域属性
  pageContext.setAttribute(&quot;name3&quot;, &quot;value3&quot;, PageContext.SESSION_SCOPE);
	// 设置请求作用域属性
  pageContext.setAttribute(&quot;name4&quot;, &quot;value4&quot;, PageContext.REQUEST_SCOPE);
%&gt;
&lt;!-- 获取页面作用域属性 --&gt;
&lt;h1&gt;&lt;%=pageContext.getAttribute(&quot;name1&quot;)%&gt;&lt;/h1&gt;
&lt;!-- 获取应用作用域属性 --&gt;
&lt;h1&gt;&lt;%=application.getAttribute(&quot;name2&quot;)%&gt;&lt;/h1&gt;
&lt;!-- 获取会话作用域属性 --&gt;
&lt;h1&gt;&lt;%=session.getAttribute(&quot;name3&quot;)%&gt;&lt;/h1&gt;
&lt;!-- 获取请求作用域属性 --&gt;
&lt;h1&gt;&lt;%=request.getAttribute(&quot;name4&quot;)%&gt;&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="初始化参数" tabindex="-1"><a class="header-anchor" href="#初始化参数" aria-hidden="true">#</a> 初始化参数</h2><h3 id="设置参数" tabindex="-1"><a class="header-anchor" href="#设置参数" aria-hidden="true">#</a> 设置参数</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- web.xml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyTestInit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-file</span><span class="token punctuation">&gt;</span></span>/MyTestInit.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-file</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>sunzhenyang<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>28<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>sex<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>MyTestInit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/MyTestInit.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取参数" tabindex="-1"><a class="header-anchor" href="#获取参数" aria-hidden="true">#</a> 获取参数</h3><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- 综合运用 --&gt;
&lt;%!public void jspInit() {
  System.out.println(&quot;JSP初始化&quot;);
  ServletConfig sConfig = getServletConfig();
  String username = sConfig.getInitParameter(&quot;username&quot;);
  String age = sConfig.getInitParameter(&quot;age&quot;);
  String sex = sConfig.getInitParameter(&quot;sex&quot;);
  System.out.println(username + &quot; - &quot; + age + &quot; - &quot; + sex);
  ServletContext context = getServletContext();
  context.setAttribute(&quot;username&quot;, username);
  context.setAttribute(&quot;age&quot;, age);
  context.setAttribute(&quot;sex&quot;, sex);
}%&gt;
&lt;h1&gt;&lt;%=application.getAttribute(&quot;username&quot;)%&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;%=application.getAttribute(&quot;age&quot;)%&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;%=application.getAttribute(&quot;sex&quot;)%&gt;&lt;/h1&gt;

&lt;!-- 直接获取 --&gt;
&lt;h1&gt;&lt;%=config.getInitParameter(&quot;username&quot;)%&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;%=config.getInitParameter(&quot;age&quot;)%&gt;&lt;/h1&gt;
&lt;h1&gt;&lt;%=config.getInitParameter(&quot;sex&quot;)%&gt;&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="禁止脚本元素" tabindex="-1"><a class="header-anchor" href="#禁止脚本元素" aria-hidden="true">#</a> 禁止脚本元素</h2><blockquote><p>禁止 scriptlet、Java 表达式或声明</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-config</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-property-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scripting-invalid</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scripting-invalid</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-property-group</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="忽略-el-表达式" tabindex="-1"><a class="header-anchor" href="#忽略-el-表达式" aria-hidden="true">#</a> 忽略 EL 表达式</h2><blockquote><p>可以通过 <code>page</code> 指令，也可以通过 <code>web.xml</code>，如果两种方式有冲突，则以 <code>page</code> 指令为准</p></blockquote><ul><li><code>&lt;%@ page isELIgnored=&quot;true&quot; %&gt;</code></li></ul><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-config</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jsp-property-group</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-ignored</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-ignored</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-property-group</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jsp-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h2><h3 id="jspinit" tabindex="-1"><a class="header-anchor" href="#jspinit" aria-hidden="true">#</a> jspInit()</h3><blockquote><p>可以覆盖，由 <code>Servlet</code> 的 <code>init()</code> 方法调用</p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- 覆盖 jspInit 方法 --&gt;
&lt;%!
  public void jspInit() {
    System.out.println(&quot;JSP 初始化调用&quot;);
  }
%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jspdestory" tabindex="-1"><a class="header-anchor" href="#jspdestory" aria-hidden="true">#</a> jspDestory()</h3><blockquote><p>可以覆盖，由 <code>Servlet</code> 的 <code>destroy()</code> 方法调用</p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- 覆盖 jspInit 方法 --&gt;
&lt;%!
			public void jspInit() {
				System.out.println(&quot;JSP 初始化调用&quot;);
			}

			public void jspDestroy() {
				System.out.println(&quot;JSP 销毁时调用&quot;);
			}
		%&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jspservice" tabindex="-1"><a class="header-anchor" href="#jspservice" aria-hidden="true">#</a> jspService()</h3><blockquote><p>不可覆盖</p></blockquote><h2 id="el-表达式" tabindex="-1"><a class="header-anchor" href="#el-表达式" aria-hidden="true">#</a> EL 表达式</h2><blockquote><p>用于简化 JSP 输出</p></blockquote><ul><li>语法：<code>\${[作用域.]属性名[.子属性]}</code></li><li>支持将运算结果进行输出</li><li>支持绝大多数对象输出，本质是执行 <code>toString()</code> 方法</li></ul><h3 id="作用域对象" tabindex="-1"><a class="header-anchor" href="#作用域对象" aria-hidden="true">#</a> 作用域对象</h3><blockquote><p>如果忽略书写作用域对象时，EL 则会按作用域从小到大依次尝试获取，如果都没有匹配 ，则会返回空字符串</p><p>除 <code>pageContext</code> 之外，其他的只是 Map</p></blockquote><table><thead><tr><th>作用域对象</th><th>描述</th></tr></thead><tbody><tr><td><code>pageScope</code></td><td>从当前页面取值</td></tr><tr><td><code>requestScope</code></td><td>从当前请求中获取属性值</td></tr><tr><td><code>sessionScope</code></td><td>从当前会话中获取属性值</td></tr><tr><td><code>applicationScope</code></td><td>从当前应用获取全局属性值</td></tr><tr><td><code>param</code></td><td>请求参数</td></tr><tr><td><code>paramValues</code></td><td>请求参数（有多个参数值时）</td></tr><tr><td><code>header</code></td><td>请求头部</td></tr><tr><td><code>headerValues</code></td><td></td></tr><tr><td><code>cookie</code></td><td></td></tr><tr><td><code>initParam</code></td><td>上下文初始化参数 <code>&lt;context-param&gt;</code></td></tr><tr><td><code>pageContext</code></td><td><code>pageContext</code> 对象的引用</td></tr></tbody></table><h4 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Student.java</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>imooc<span class="token punctuation">.</span>el</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMobile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> mobile<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMobile</span><span class="token punctuation">(</span><span class="token class-name">String</span> mobile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>mobile <span class="token operator">=</span> mobile<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// StudentServlet.java</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>imooc<span class="token punctuation">.</span>el</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Servlet implementation class StudentServlet
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/info&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>

	<span class="token doc-comment comment">/**
	 * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">HttpServlet</span><span class="token punctuation">#</span><span class="token function">HttpServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
	 */</span>
	<span class="token keyword">public</span> <span class="token class-name">StudentServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// TODO Auto-generated constructor stub</span>
	<span class="token punctuation">}</span>

	<span class="token doc-comment comment">/**
	 * <span class="token keyword">@see</span> <span class="token reference"><span class="token class-name">HttpServlet</span><span class="token punctuation">#</span><span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span>
	 *      response<span class="token punctuation">)</span></span>
	 */</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
		<span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		student<span class="token punctuation">.</span><span class="token function">setMobile</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;student&quot;</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
		request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;grade&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/info.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- 普通写法 --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot; import=&quot;com.imooc.el.Student&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;%
		Student stu = (Student) request.getAttribute(&quot;student&quot;);
		String grade = (String) request.getAttribute(&quot;grade&quot;);
	%&gt;
	&lt;h1&gt;
		姓名：&lt;%=stu.getName()%&gt;&lt;/h1&gt;
	&lt;h2&gt;
		手机：&lt;%=stu.getMobile()%&gt;&lt;/h2&gt;
	&lt;h2&gt;
		评级：&lt;%=grade%&gt;&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;

&lt;!-- EL表达式写法 --&gt;
&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
	pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;姓名：\${requestScope.student.name}&lt;/h1&gt;
	&lt;h2&gt;手机：\${requestScope.student.mobile}&lt;/h2&gt;
	&lt;h2&gt;评级：\${requestScope.grade}&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="请求参数简化" tabindex="-1"><a class="header-anchor" href="#请求参数简化" aria-hidden="true">#</a> 请求参数简化</h3><blockquote><p>使用 <code>param</code> 对请求参数进行简化</p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- url: http://***.com?teacher=Yang --&gt;
&lt;h1&gt;
  \${param.teacher}
&lt;/h1&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="操作符" tabindex="-1"><a class="header-anchor" href="#操作符" aria-hidden="true">#</a> 操作符</h3><h4 id="算数操作符" tabindex="-1"><a class="header-anchor" href="#算数操作符" aria-hidden="true">#</a> 算数操作符</h4><table><thead><tr><th>描述</th><th>操作符</th></tr></thead><tbody><tr><td>加法</td><td><code>+</code></td></tr><tr><td>减法</td><td><code>-</code></td></tr><tr><td>乘法</td><td><code>*</code></td></tr><tr><td>除法</td><td><code>/</code> 和 <code>div</code></td></tr><tr><td>取模</td><td><code>%</code> 和 <code>mod</code></td></tr></tbody></table><h4 id="逻辑操作符" tabindex="-1"><a class="header-anchor" href="#逻辑操作符" aria-hidden="true">#</a> 逻辑操作符</h4><p>| 描述 | 操作符 | | ---- | ------------- | --- | ------- | | 与 | <code>&amp;&amp;</code> 和 <code>and</code> | | 或 | <code> | |</code>和<code>or</code> | | 非 | <code>!</code> 和 <code>not</code> |</p><h4 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h4><h4 id="关系操作符" tabindex="-1"><a class="header-anchor" href="#关系操作符" aria-hidden="true">#</a> 关系操作符</h4><table><thead><tr><th>描述</th><th>操作符</th></tr></thead><tbody><tr><td>等于</td><td><code>==</code> 和 <code>eq</code></td></tr><tr><td>不等于</td><td><code>!=</code> 和 <code>ne</code></td></tr><tr><td>小于</td><td><code>&lt;</code> 和 <code>lt</code></td></tr><tr><td>大于</td><td><code>&gt;</code> 和 <code>gt</code></td></tr><tr><td>小于等于</td><td><code>&lt;=</code> 和 <code>le</code></td></tr><tr><td>大于等于</td><td><code>&gt;=</code> 和 <code>ge</code></td></tr></tbody></table><h3 id="注意" tabindex="-1"><a class="header-anchor" href="#注意" aria-hidden="true">#</a> 注意</h3><ul><li><p>可以除 <code>0</code> ，得到 <code>Infinity</code></p></li><li><p>不能对 <code>0</code> 使用取模操作符，会抛出异常</p></li><li><p>会妥善处理 <code>null</code> 而不会抛出异常，不同表达中<strong>未定义的变量不会打印</strong></p></li><li><p>算数表达式中，把未知变量替换为 <code>0</code></p></li><li><p>逻辑表达式中，把未知变量替换为 <code>false</code></p></li></ul><h2 id="jstl-标签库" tabindex="-1"><a class="header-anchor" href="#jstl-标签库" aria-hidden="true">#</a> JSTL 标签库</h2><blockquote><p>JSP Standard Tag Library：JSP 标准标签库</p></blockquote><ul><li>用于简化 JSP 开发，提高代码的可读性与可维护性</li><li>由 SUN（Oracle）定义规范，有 Apache Tomcat 团队实现</li></ul><h3 id="下载" tabindex="-1"><a class="header-anchor" href="#下载" aria-hidden="true">#</a> 下载</h3>`,121),r={href:"https://tomcat.apache.org/download-taglibs.cgi",target:"_blank",rel:"noopener noreferrer"},v=e(`<table><thead><tr><th>作用域对象</th><th>描述</th></tr></thead><tbody><tr><td><code>taglibs-standard-spec-1.2.5.jar</code></td><td>标签库定义包（必选）</td></tr><tr><td><code>taglibs-standard-impl-1.2.5.jar</code></td><td>标签库实现包（必选）</td></tr><tr><td><code>taglibs-standard-jstlel-1.2.5.jar</code></td><td>EL 表达式支持包（备选）</td></tr><tr><td><code>taglibs-standard-compat-1.2.5.jar</code></td><td>1.0 版本兼容包（备选）</td></tr></tbody></table><h3 id="标签库种类" tabindex="-1"><a class="header-anchor" href="#标签库种类" aria-hidden="true">#</a> 标签库种类</h3><ul><li><code>core</code>：核心标签库 <ul><li>在 <code>taglibs-standard-impl.jar</code> 由 <code>META-INF/c.tld</code> 定义</li></ul></li><li><code>fmt</code>：格式化输出标签库</li><li><code>sql</code>：SQL 操作标签库</li><li><code>xml</code>：XML 操作标签库</li><li><code>functions</code>：函数标签库</li></ul><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><h4 id="方式一-推荐" tabindex="-1"><a class="header-anchor" href="#方式一-推荐" aria-hidden="true">#</a> 方式一（推荐）</h4><ul><li>将 <code>Jar</code> 文件复制到工程的 <code>/WEB-INF/lib</code> 目录</li><li>Eclipse 会自动将复制到工程 <code>/WEB-INF/lib</code> 目录的文件加入到 <code>Java resources -&gt; Libraries -&gt; Web App Libraries</code> 目录</li></ul><h4 id="方式二" tabindex="-1"><a class="header-anchor" href="#方式二" aria-hidden="true">#</a> 方式二</h4><ul><li>将 <code>Jar</code> 文件复制到 Tomcat 的 <code>lib</code> 目录</li></ul><h3 id="引入" tabindex="-1"><a class="header-anchor" href="#引入" aria-hidden="true">#</a> 引入</h3><blockquote><p>Eclipse 中 按 <code>Alt + /</code> 出现智能提示</p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;!-- c：core  fmt：fmt --&gt;

&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用-1" tabindex="-1"><a class="header-anchor" href="#使用-1" aria-hidden="true">#</a> 使用</h3><h4 id="设置默认值" tabindex="-1"><a class="header-anchor" href="#设置默认值" aria-hidden="true">#</a> 设置默认值</h4><blockquote><p><code>&lt;c:out&gt;</code></p></blockquote><ul><li>参数 <ul><li><code>value</code>：要使用的变量</li><li><code>default</code>：点变量值为 <code>null</code> 时显示的默认值</li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;c:out value=&quot;\${nothing}&quot; default=&quot;无&quot;&gt;&lt;/c:out&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="输出-html-源代码" tabindex="-1"><a class="header-anchor" href="#输出-html-源代码" aria-hidden="true">#</a> 输出 HTML 源代码</h4><blockquote><p>&lt;c:out /&gt;</p></blockquote><ul><li>参数 <ul><li><code>value</code>：要使用的变量</li><li><code>escapeXml</code>：是否转义特殊字符</li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%
	request.setAttribute(&quot;html&quot;, &quot;&lt;a href=&#39;index.html&#39;&gt;index&lt;/a&gt;&quot;);
%&gt;
&lt;h3&gt;
  特殊字符：
  &lt;c:out value=&quot;\${html}&quot; escapeXml=&quot;true&quot; /&gt;
&lt;/h3&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="单分支判断" tabindex="-1"><a class="header-anchor" href="#单分支判断" aria-hidden="true">#</a> 单分支判断</h4><blockquote><p><code>&lt;c:if&gt;</code></p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;h1&gt;分数：\${requestScope.score}&lt;/h1&gt;
&lt;c:if test=&quot;\${requestScope.score &gt;= 60}&quot;&gt;
  &lt;h1 style=&quot;color: green;&quot;&gt;恭喜，你已通过测试&lt;/h1&gt;
&lt;/c:if&gt;
&lt;c:if test=&quot;\${requestScope.score &lt; 60}&quot;&gt;
  &lt;h1 style=&quot;color: red;&quot;&gt;对不起，再接再厉&lt;/h1&gt;
&lt;/c:if&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="多分支判断" tabindex="-1"><a class="header-anchor" href="#多分支判断" aria-hidden="true">#</a> 多分支判断</h4><blockquote><p><code>&lt;c:choose&gt;</code>、<code>&lt;c:when&gt;</code>、<code>&lt;c:otherwise&gt;</code></p></blockquote><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;h1&gt;评级：\${requestScope.grade}&lt;/h1&gt;
&lt;c:choose&gt;
  &lt;c:when test=&quot;\${requestScope.grade == &#39;A&#39;}&quot;&gt;
    &lt;h1 style=&quot;color: green;&quot;&gt;优秀&lt;/h1&gt;
  &lt;/c:when&gt;
  &lt;c:when test=&quot;\${requestScope.grade == &#39;B&#39;}&quot;&gt;
    &lt;h1 style=&quot;color: green;&quot;&gt;良&lt;/h1&gt;
  &lt;/c:when&gt;
  &lt;c:when test=&quot;\${requestScope.grade == &#39;C&#39;}&quot;&gt;
    &lt;h1 style=&quot;color: green;&quot;&gt;一般&lt;/h1&gt;
  &lt;/c:when&gt;
  &lt;c:otherwise&gt;
    &lt;h1 style=&quot;color: red;&quot;&gt;差&lt;/h1&gt;
  &lt;/c:otherwise&gt;
&lt;/c:choose&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="遍历集合" tabindex="-1"><a class="header-anchor" href="#遍历集合" aria-hidden="true">#</a> 遍历集合</h4><blockquote><p><code>&lt;c:forEach&gt;</code></p></blockquote><ul><li>参数 <ul><li><code>items</code>：要循环的列表</li><li><code>var</code>：循环中的元素</li><li><code>varStatus</code>：变量状态 <ul><li><code>index</code>：索引</li><li><code>count</code>：技术</li></ul></li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;c:forEach items=&quot;\${requestScope.companies}&quot; var=&quot;c&quot; varStatus=&quot;idx&quot;&gt;
  &lt;h1&gt;\${idx.index+1}.&amp;nbsp;\${c.cname}&amp;nbsp;\${c.url}&lt;/h1&gt;
&lt;/c:forEach&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="日期格式化" tabindex="-1"><a class="header-anchor" href="#日期格式化" aria-hidden="true">#</a> 日期格式化</h4><blockquote><p><code>&lt;fmt:formatNumber /&gt;</code></p></blockquote><ul><li>参数 <ul><li><code>value</code>：要格式化的值</li><li><code>pattern</code><ul><li><code>yyyy</code>：四位年</li><li><code>MM</code>：两位月</li><li><code>dd</code>：两位日</li><li><code>HH</code>：24 小时制</li><li><code>mm</code>：分钟</li><li><code>ss</code>：秒数</li><li><code>SSS</code>：毫秒</li></ul></li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;% request.setAttribute(&quot;now&quot;, new java.util.Date()); %&gt;
&lt;h3&gt;
  时间格式化：
  &lt;fmt:formatDate value=&quot;\${requestScope.now}&quot;
                  pattern=&quot;yyyy年MM月dd日 HH时mm分ss秒 SSS毫秒&quot; /&gt;
&lt;/h3&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="数字格式化" tabindex="-1"><a class="header-anchor" href="#数字格式化" aria-hidden="true">#</a> 数字格式化</h4><blockquote><p>&lt;fmt:formatNumber /&gt;</p></blockquote><p>参数</p><ul><li><code>value</code>：要格式化的值</li><li><code>pattern</code>：保存的小数位样式 <ul><li><code>0.00</code>：保存两位小数</li><li><code>0,00.00</code>：按百分位切割</li><li><code>0,000.00</code>：按千分位切割</li></ul></li></ul><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;% request.setAttribute(&quot;amt&quot;, 1987654.326); %&gt;
&lt;h3&gt;
  数字格式化：
  &lt;fmt:formatNumber value=&quot;\${requestScope.amt}&quot; pattern=&quot;0,000.00&quot; /&gt;
&lt;/h3&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模板引擎" tabindex="-1"><a class="header-anchor" href="#模板引擎" aria-hidden="true">#</a> 模板引擎</h2><blockquote><p>将数据与展现解耦</p></blockquote><h3 id="主流模板引擎" tabindex="-1"><a class="header-anchor" href="#主流模板引擎" aria-hidden="true">#</a> 主流模板引擎</h3><ul><li>Java Server Page（JSP）</li><li>Freemarker</li><li>Beetl</li></ul><h3 id="freemarker" tabindex="-1"><a class="header-anchor" href="#freemarker" aria-hidden="true">#</a> Freemarker</h3><blockquote><p>免费开源的模板引擎技术，脚本为 <code>FTL(Freemarker Template Language)</code></p></blockquote>`,45),k=n("li",null,"提供了大量内建函数来简化开发",-1),m={href:"https://freemarker.apache.org/",target:"_blank",rel:"noopener noreferrer"},g={href:"http://freemarker.foofun.cn/",target:"_blank",rel:"noopener noreferrer"},b=e(`<h4 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h4><h5 id="取值" tabindex="-1"><a class="header-anchor" href="#取值" aria-hidden="true">#</a> 取值</h5><ul><li><code>\${属性名}</code>：取值，可对属性进行计算（不存在的属性会报错）</li><li><code>\${属性名!默认值}</code>：使用默认值</li></ul><h5 id="if-分支" tabindex="-1"><a class="header-anchor" href="#if-分支" aria-hidden="true">#</a> if 分支</h5><div class="language-ftl line-numbers-mode" data-ext="ftl"><pre class="language-ftl"><code><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#if</span><span class="token content ftl"> 条件<span class="token number">1</span></span><span class="token punctuation">&gt;</span></span></span>
	条件1成立执行代码
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#elseif</span><span class="token content ftl"> 条件<span class="token number">2</span></span><span class="token punctuation">&gt;</span></span></span>
	条件2成立执行代码
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#elseif</span><span class="token content ftl"> 条件<span class="token number">3</span></span><span class="token punctuation">&gt;</span></span></span>
	条件3成立执行代码
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#else</span><span class="token punctuation">&gt;</span></span></span>
	其他情况下执行代码

<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#if</span><span class="token content ftl"> a<span class="token operator">==</span>b</span><span class="token punctuation">&gt;</span></span></span>
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#if</span><span class="token content ftl"> computer<span class="token punctuation">.</span>user<span class="token operator">??</span></span><span class="token punctuation">&gt;</span></span></span><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;/</span><span class="token directive keyword">#if</span><span class="token punctuation">&gt;</span></span></span> 判断对象是否为空
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="switch-分支" tabindex="-1"><a class="header-anchor" href="#switch-分支" aria-hidden="true">#</a> switch 分支</h5><div class="language-ftl line-numbers-mode" data-ext="ftl"><pre class="language-ftl"><code><span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#switch</span><span class="token content ftl"> value</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#case</span><span class="token content ftl"> refValue1</span><span class="token punctuation">&gt;</span></span></span>
		...
		<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#break</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#case</span><span class="token content ftl"> refValue2</span><span class="token punctuation">&gt;</span></span></span>
		...
		<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#break</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#case</span><span class="token content ftl"> refValueN</span><span class="token punctuation">&gt;</span></span></span>
		...
		<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#break</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#default</span><span class="token punctuation">&gt;</span></span></span>
		...
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;/</span><span class="token directive keyword">#switch</span><span class="token punctuation">&gt;</span></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="list-迭代列表" tabindex="-1"><a class="header-anchor" href="#list-迭代列表" aria-hidden="true">#</a> list 迭代列表</h5><div class="language-ftl line-numbers-mode" data-ext="ftl"><pre class="language-ftl"><code>// stu_index 默认循环索引

<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#list</span><span class="token content ftl"> students <span class="token keyword">as</span> stu</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">stu_index</span><span class="token punctuation">}</span></span></span>-<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">stu<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;/</span><span class="token directive keyword">#list</span><span class="token punctuation">&gt;</span></span></span>

<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;</span><span class="token directive keyword">#list</span><span class="token content ftl"> mapDate<span class="token operator">?</span><span class="token builtin-function function">keys</span> <span class="token keyword">as</span> k</span><span class="token punctuation">&gt;</span></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">k</span><span class="token punctuation">}</span></span></span>：<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">mapDate<span class="token punctuation">[</span>k<span class="token punctuation">]</span></span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-directive"><span class="token punctuation">&lt;/</span><span class="token directive keyword">#list</span><span class="token punctuation">&gt;</span></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="内建函数" tabindex="-1"><a class="header-anchor" href="#内建函数" aria-hidden="true">#</a> 内建函数</h5><table><thead><tr><th>函数名</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>lower_case/upper_case</code></td><td>大小写转换</td><td><code>&quot;abcdefg&quot;?upper_case</code></td></tr><tr><td><code>cap_first</code></td><td>首字母大写</td><td><code>&quot;jackson&quot;?cap_first</code></td></tr><tr><td><code>index_of</code></td><td>查找字符索引</td><td><code>abcdefg?inde_of(&quot;b&quot;)</code></td></tr><tr><td><code>length</code></td><td>返回字符串长度</td><td><code>abcdefg?length</code></td></tr><tr><td><code>replace</code></td><td>替换字符串</td><td><code>str.replace(&quot;abcdefg&quot;,&quot;******&quot;)</code></td></tr><tr><td><code>round/floor/ceiling</code></td><td>四舍五入/下取整/上取整</td><td><code>pi?floor</code></td></tr><tr><td><code>size</code></td><td>得到集合元素总数</td><td><code>students?size</code></td></tr><tr><td><code>first/last</code></td><td>获取 第一个/最后一个 元素</td><td><code>students?first</code></td></tr><tr><td><code>sort_by(&quot;str&quot;)</code></td><td>按某个属性对集合排序（加上 <code>?reverse</code> 可以变为倒序）</td><td><code>list?sort_by(&quot;time&quot;)</code></td></tr></tbody></table><h4 id="freemarker-与-servlet" tabindex="-1"><a class="header-anchor" href="#freemarker-与-servlet" aria-hidden="true">#</a> freemarker 与 servlet</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- Servlet 别名 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>freemarker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>freemarker.ext.servlet.FreemarkerServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>TemplatePath<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>/WEB-INF/ftl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>freemarker<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.ftl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="案例" tabindex="-1"><a class="header-anchor" href="#案例" aria-hidden="true">#</a> 案例</h4><ul><li>新建 Java 项目 -&gt; 新建 <code>lib</code> 文件夹 -&gt; 放入 <code>freemarker.jar</code> -&gt; <code>build path</code></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// FreemarkerSample1.java</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>imooc<span class="token punctuation">.</span>freemarker</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">OutputStreamWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">ParseException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">MalformedTemplateNameException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">Template</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">TemplateException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">freemarker<span class="token punctuation">.</span>template<span class="token punctuation">.</span></span><span class="token class-name">TemplateNotFoundException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FreemarkerSample1</span> <span class="token punctuation">{</span>

	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">TemplateNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">MalformedTemplateNameException</span><span class="token punctuation">,</span>
			<span class="token class-name">ParseException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">TemplateException</span> <span class="token punctuation">{</span>
		<span class="token comment">// 1. 加载模板</span>
		<span class="token comment">// 创建核心配置对象</span>
		<span class="token class-name">Configuration</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span><span class="token punctuation">.</span><span class="token constant">VERSION_2_3_31</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 设置加载目录(第二个参数，空字符串表示当前包)</span>
		config<span class="token punctuation">.</span><span class="token function">setClassForTemplateLoading</span><span class="token punctuation">(</span><span class="token class-name">FreemarkerSample1</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 得到模板对象</span>
		<span class="token class-name">Template</span> t <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getTemplate</span><span class="token punctuation">(</span><span class="token string">&quot;sample1.ftl&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 2. 创建数据</span>
		<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;site&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;百度&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span> <span class="token number">837138.88523641</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Map数据</span>
		<span class="token class-name">Map</span> info <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		info<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;cpu&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// 自定义类数据</span>
		<span class="token class-name">Computer</span> c1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Computer</span><span class="token punctuation">(</span><span class="token string">&quot;XC13256&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C型&quot;</span><span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
		data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;computer&quot;</span><span class="token punctuation">,</span> c1<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 3. 产生输出</span>
		t<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-ftl line-numbers-mode" data-ext="ftl"><pre class="language-ftl"><code><span class="token ftl language-ftl"><span class="token ftl-comment comment">&lt;#-- 取值 --&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">site</span><span class="token punctuation">}</span></span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">url</span><span class="token punctuation">}</span></span></span>

<span class="token ftl language-ftl"><span class="token ftl-comment comment">&lt;#-- 默认值 --&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">author<span class="token operator">!</span><span class="token string">&quot;不存在的属性&quot;</span></span><span class="token punctuation">}</span></span></span>

<span class="token ftl language-ftl"><span class="token ftl-comment comment">&lt;#-- ?string格式化输出 --&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">date<span class="token operator">?</span><span class="token builtin-function function">string</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss SSS&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">number<span class="token operator">?</span><span class="token builtin-function function">string</span><span class="token punctuation">(</span><span class="token string">&quot;0.00&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">number<span class="token operator">?</span><span class="token builtin-function function">string</span><span class="token punctuation">(</span><span class="token string">&quot;0,00.00&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">number<span class="token operator">?</span><span class="token builtin-function function">string</span><span class="token punctuation">(</span><span class="token string">&quot;0,000.00&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span></span>

SN: <span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">computer<span class="token punctuation">.</span>sn</span><span class="token punctuation">}</span></span></span>
型号: <span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">computer<span class="token punctuation">.</span>model</span><span class="token punctuation">}</span></span></span>

CPU: <span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">computer<span class="token punctuation">.</span>info<span class="token punctuation">[</span><span class="token string">&quot;cpu&quot;</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span></span></span>

<span class="token ftl language-ftl"><span class="token ftl-comment comment">&lt;#-- 利用 ?string 实现三木运算符操作 --&gt;</span></span>
<span class="token ftl language-ftl"><span class="token ftl-interpolation"><span class="token punctuation">\${</span><span class="token content ftl">words<span class="token operator">?</span><span class="token builtin-function function">index_of</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">?</span><span class="token builtin-function function">string</span><span class="token punctuation">(</span><span class="token string">&quot;包含&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;不包含&quot;</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="打包与发布" tabindex="-1"><a class="header-anchor" href="#打包与发布" aria-hidden="true">#</a> 打包与发布</h2><ul><li>Java Web 应用采用 <code>war</code> 包进行发布</li><li>发布路径：<code>{TOMCAT_HOME}/webapps</code></li><li>Eclipse 支持 war 包导出 <ul><li><code>File -&gt; export -&gt; Web（WAR file）-&gt;</code></li><li>将打包后的 <code>*.war</code> 文件复制到 Tomcat 根目录</li><li>进入 <code>Tomcat -&gt; bin</code> 文件夹，运行 <code>startup.sh</code></li><li>Tomcat 启动并自动解压 <code>*.war</code> 包</li></ul></li></ul><h3 id="去掉访问路径中的端口号" tabindex="-1"><a class="header-anchor" href="#去掉访问路径中的端口号" aria-hidden="true">#</a> 去掉访问路径中的端口号</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- Tomcat -&gt; conf -&gt; server.xml  --&gt;</span>
<span class="token comment">&lt;!-- 80 为 http 默认端口号  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Connector</span> <span class="token attr-name">port</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="去掉访问路径中的文件夹" tabindex="-1"><a class="header-anchor" href="#去掉访问路径中的文件夹" aria-hidden="true">#</a> 去掉访问路径中的文件夹</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- Tomcat -&gt; conf -&gt; server.xml  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Context</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,23);function h(q,f){const a=c("ExternalLinkIcon");return o(),p("div",null,[i(" more "),u,n("blockquote",null,[n("p",null,[s("下载地址："),n("a",r,[s("Apache Standard Taglib 1.2.5"),t(a)])])]),v,n("ul",null,[k,n("li",null,[n("a",m,[s("官方文档"),t(a)])]),n("li",null,[n("a",g,[s("中文文档"),t(a)])])]),b])}const j=l(d,[["render",h],["__file","JSP.html.vue"]]);export{j as default};
