import{_ as e,P as p,Q as t,Z as o,$ as s,a0 as n,a1 as i,a2 as l,G as r}from"./framework-c9f7520d.js";const c={},d=l(`<h2 id="混入-mixins" tabindex="-1"><a class="header-anchor" href="#混入-mixins" aria-hidden="true">#</a> 混入(Mixins)</h2><p>混入和函数定义方法一致，但是应用却大相径庭。</p><p>一个简单的混入应用，定义一个超出显示省略号的<code>ellipsis()</code>方法，在需要用到的地方只需插入这个方法，其样式会扩展并复制到选择器中。</p><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token func"><span class="token function">ellipsis</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">overflow</span> hidden</span>
  <span class="token property-declaration"><span class="token property">white-space</span> nowrap</span>
  <span class="token property-declaration"><span class="token property">text-overflow</span> ellipsis</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token selector">p</span>
  <span class="token func"><span class="token function">ellipsis</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>下面有定义的<code>border-radius(n)</code>方法，其却作为一个<em>mixin</em>（如，作为状态调用，而非表达式）调用。</p><p>当<code>border-radius()</code>选择器中调用时候，属性会被扩展并复制在选择器中。</p><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> n</span>

<span class="token selector">form input[type=button]</span>
  <span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token unit">px</span><span class="token punctuation">)</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编译成：</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">form input[type=button]</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用混入书写，你可以完全忽略括号，提供梦幻般私有属性的支持。</p><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> n</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> n</span>

<span class="token selector">form input[type=button]</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> <span class="token number">5</span><span class="token unit">px</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意到我们混合书写中的<code>border-radius</code>当作了属性，而不是一个递归函数调用。</p><p>更进一步，我们可以利用<code>arguments</code>这个局部变量，传递可以包含多值的表达式。</p><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token func"><span class="token function">border-radius</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">-webkit-border-radius</span> arguments</span>
  <span class="token property-declaration"><span class="token property">-moz-border-radius</span> arguments</span>
  <span class="token property-declaration"><span class="token property">border-radius</span> arguments</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，我们可以像这样子传值：<code>border-radius 1px 2px / 3px 4px</code>!</p><p>另外一个很赞的应用是特定的私有前缀支持——例如IE浏览器的透明度：</p><div class="language-stylus line-numbers-mode" data-ext="styl"><pre class="language-stylus"><code><span class="token variable-declaration"><span class="token variable">support-for-ie</span> <span class="token operator">?=</span> <span class="token boolean">true</span></span>

<span class="token func"><span class="token function">opacity</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span></span>
  <span class="token property-declaration"><span class="token property">opacity</span> n</span>
  <span class="token statement"><span class="token keyword">if</span> support-for-ie</span>
    <span class="token property-declaration"><span class="token property">filter</span> unquote<span class="token punctuation">(</span><span class="token string">&#39;progid:DXImageTransform.Microsoft.Alpha(Opacity=&#39;</span> <span class="token operator">+</span> <span class="token func"><span class="token function">round</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">+</span> </span><span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span></span>

<span class="token selector">#logo</span>
  <span class="token selector">&amp;:hover</span>
    <span class="token property-declaration"><span class="token property">opacity</span> <span class="token number">0.5</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>渲染为：</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">#logo:hover</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
  <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token property">progid</span><span class="token punctuation">:</span>DXImageTransform.Microsoft.<span class="token function">Alpha</span><span class="token punctuation">(</span>Opacity=50<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20),u={href:"https://www.zhangxinxu.com/jq/stylus/mixins.php",target:"_blank",rel:"noopener noreferrer"};function v(k,m){const a=r("ExternalLinkIcon");return p(),t("div",null,[o(" more "),d,s("p",null,[n("来源："),s("a",u,[n("https://www.zhangxinxu.com/jq/stylus/mixins.php"),i(a)])])])}const y=e(c,[["render",v],["__file","06.Stylus 混入(Mixins).html.vue"]]);export{y as default};
